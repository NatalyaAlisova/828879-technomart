(function(){var btnPrev=document.querySelector('.slider-toggle-prev'),btnNext=document.querySelector('.slider-toggle-next');var images=Array.prototype.slice.call(document.querySelectorAll('.slide'));var shownImage=document.querySelector('.shown');var shownPoint=document.querySelector('.slider-control-active');var pointsArray=document.querySelectorAll('.slider-control');var counter=images.indexOf(shownImage);btnPrev.addEventListener('click',function(){if(counter===0){images[counter].classList.remove('shown');pointsArray[counter].classList.remove('slider-control-active');counter=images.length-1}else{images[counter].classList.remove('shown');pointsArray[counter].classList.remove('slider-control-active');counter--}
images[counter].classList.add('shown');pointsArray[counter].classList.add('slider-control-active')});btnNext.addEventListener('click',function(){if(counter===images.length-1){images[counter].classList.remove('shown');pointsArray[counter].classList.remove('slider-control-active');counter=0}else{images[counter].classList.remove('shown');pointsArray[counter].classList.remove('slider-control-active');counter++}
images[counter].classList.add('shown');pointsArray[counter].classList.add('slider-control-active')});var slideThroughPoints=function(){[].forEach.call(pointsArray,function(point,index){point.addEventListener('click',function(evt){if(index===counter){evt.preventDefault();return}else{pointsArray[counter].classList.remove('slider-control-active');images[counter].classList.remove('shown');counter=index;images[index].classList.add('shown');point.classList.add('slider-control-active');btnNext.disabled=!1;btnPrev.disabled=!1}})})};slideThroughPoints()})();var mapContact=document.querySelector('.contact .mini-map');var mapModal=document.querySelector('.modal-map');var mapClose=mapModal.querySelector('.modal-close');mapContact.addEventListener('click',function(evt){evt.preventDefault();mapModal.classList.add('modal-show')});mapClose.addEventListener('click',function(evt){evt.preventDefault();mapModal.classList.remove('modal-show')});window.addEventListener('keydown',function(evt){if(evt.keyCode===27){mapModal.classList.remove('modal-show');evt.preventDefault()}});var buttonWrite=document.querySelector('.button-write');var modalFeedback=document.querySelector('.modal-search');var modalClose=modalFeedback.querySelector('.modal-close');var form=modalFeedback.querySelector('form');var modalName=modalFeedback.querySelector('[name=user-name]');var modalEmail=modalFeedback.querySelector('[name=user-email]');var isStorageSupport=!0;var storage='';try{storage=localStorage.getItem('modalName')}catch(err){isStorageSupport=!1}
buttonWrite.addEventListener('click',function(evt){evt.preventDefault();modalFeedback.classList.add('modal-show');if(storage){modalName.value=storage;modalEmail.focus()}else{modalName.focus()}});modalClose.addEventListener('click',function(evt){evt.preventDefault();modalFeedback.classList.remove('modal-show');modalFeedback.classList.remove('modal-error')});form.addEventListener('submit',function(evt){evt.preventDefault();if(!modalName.value||!modalEmail.value){evt.preventDefault();modalFeedback.classList.remove('modal-error');modalFeedback.offsetWidth=modalFeedback.offsetWidth;modalFeedback.classList.add('modal-error')}else{if(isStorageSupport){localStorage.setItem('modalName',modalName.value)}}});window.addEventListener('keydown',function(evt){if(evt.keyCode===27){evt.preventDefault();if(modalFeedback.classList.contains('modal-show')){modalFeedback.classList.remove('modal-show');modalFeedback.classList.remove('modal-error')}}})